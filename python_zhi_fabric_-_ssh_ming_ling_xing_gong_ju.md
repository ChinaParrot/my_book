 # python 之Fabric-SSH命令行工具


Fabric是基于python2.5及以上版本实现的SSH命令行工具，简化了SSH应用程序部署及系统管理任务，他提供了系统基础的操作组件，可以实现本地或远程shell命令，包括命令执行、文件上传、下载及完整执行日志输出等功能。Fabric在paramiko的基础上做更高一层的封装，操作起来更加简单。

官网地址：http://www.fabfile.org/

##fab的常用参数
``````
Usage: fab [options] <command>[:arg1,arg2=val2,host=foo,hosts='h1;h2',...] ...

```

* -l,显示定义好的任务函数名；
* -f,指定fab入口文件，默认入口文件名为fabfile.py
* -g,指定网关（中转）设备，比如堡垒机环境，填写堡垒机ip即可
* -H,指定目标主机，多台主机用“，”号分隔；
* -P,以异步并行方式运行多主机任务，默认为串行运行；
* -R,指定role，以角色名区分不同业务组设备；
* -t，设置设备连接超时时间（秒）；
* -T,设置远程主机命令执行超时时间（秒）；
* -w,当命令执行失败，发出告警，而非默认终止任务。

有时候我们可已不需要写一行python代码也可以完成远程操作，直接使用命令的形式，例如：

```
fab -p 123456(密码) -H 192.168.1.21,192.168.1.22 -- 'uname -s'

```
